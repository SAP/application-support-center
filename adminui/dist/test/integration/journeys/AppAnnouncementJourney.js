sap.ui.define(["sap/ui/test/opaQunit","../pages/app/AppList","../pages/app/ViewApp","../pages/app/EditApp","../pages/app_announcements/AddAppAnnouncement","../pages/app_announcements/EditAppAnnouncement","../pages/app_announcements/ViewAppAnnouncement","../pages/Common"],function(e){"use strict";QUnit.module("App Announcement");var n="Announcement "+Math.random().toString(36).substring(2,7);e("Select a app",function(e,n,p){n.onTheAppListPage.iClearTheSearch();n.onTheAppListPage.iSearchFor(n.onTheAppListPage.getAppName());n.onTheAppListPage.iPressOnTheObjectAtPositionInTable(n.onTheAppListPage.getPageName(),"idTableApps",0);p.onTheViewAppPage.iShouldSeeTheAppInfoScreen()});e("Pressing edit app I should see the edit form",function(e,n,p){n.onTheViewAppPage.iPressOnEditApplication();p.onTheEditAppPage.iShouldSeeTheEditAppScreen()});e("Pressing add announcement should show the new announcement page",function(e,n,p){n.onTheEditAppPage.iPress(n.onTheEditAppPage.getPageName(),"idButtonAddAnnouncement");p.onTheAddAppAnnouncementPage.iShouldSeeTheAddScreen().iShouldSeeThePageTitle()});e("Creating a new record",function(e,p,t){p.onTheAddAppAnnouncementPage.iEnterText(p.onTheAddAppAnnouncementPage.getPageName(),"idInputTitle",n).iEnterText(p.onTheAddAppAnnouncementPage.getPageName(),"idInputSortOrder","1").iPressSave(p.onTheAddAppAnnouncementPage.getPageName());t.onTheEditAppPage.iShouldSeeTheEditAppScreen();p.onTheEditAppPage.iWaitUntilTheTableIsLoaded(p.onTheEditAppPage.getPageName(),"idTableAnnouncements");t.onTheEditAppPage.theTableHasEntries(p.onTheEditAppPage.getPageName(),"idTableAnnouncements")});e("I can view the new record",function(e,p,t){p.onTheEditAppPage.iPressCancel(p.onTheEditAppPage.getPageName());t.onTheViewAppPage.iShouldSeeTheAppInfoScreen();p.onTheViewAppPage.iPressOnTheObjectAtPositionInTable(p.onTheViewAppPage.getPageName(),"idTableAnnouncements",0);t.onTheViewAppAnnouncementPage.iShouldSeeTheAnnouncementInfoScreen();t.onTheViewAppAnnouncementPage.iShouldSeeTheText(p.onTheViewAppAnnouncementPage.getPageName(),"idTextTitle",n)});e("I can close the view announcement screen",function(e,n,p){n.onTheViewAppAnnouncementPage.iPressClose(n.onTheViewAppAnnouncementPage.getPageName());p.onTheViewAppPage.iShouldSeeTheAppInfoScreen()});e("I can edit the new record",function(e,n,p){n.onTheViewAppPage.iPressOnEditApplication();p.onTheEditAppPage.iShouldSeeTheEditAppScreen();n.onTheEditAppPage.iPressOnTheObjectAtPositionInTable(n.onTheEditAppPage.getPageName(),"idTableAnnouncements",0);p.onTheEditAppAnnouncementPage.iShouldSeeTheEditScreen();var t="2";n.onTheEditAppAnnouncementPage.iEnterText(n.onTheEditAppAnnouncementPage.getPageName(),"idInputSortOrder",t);n.onTheEditAppAnnouncementPage.iPressSave(n.onTheEditAppAnnouncementPage.getPageName());p.onTheEditAppPage.iShouldSeeTheEditAppScreen();p.onTheEditAppPage.iPressCancel(n.onTheEditAppPage.getPageName());n.onTheViewAppPage.iPressOnTheObjectAtPositionInTable(n.onTheViewAppPage.getPageName(),"idTableAnnouncements",0);p.onTheViewAppAnnouncementPage.iShouldSeeTheAnnouncementInfoScreen();p.onTheViewAppAnnouncementPage.iShouldSeeTheText(n.onTheViewAppAnnouncementPage.getPageName(),"idTextSortOrder",t)});e("Pressing the Close View Application should show the application table",function(e,n,p){n.onTheViewAppPage.iPress(n.onTheViewAppPage.getPageName(),"idButtonCloseApp");p.onTheAppListPage.iShouldSeeTheControl(n.onTheAppListPage.getPageName(),"idTableApps")})});