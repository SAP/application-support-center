sap.ui.define(["../BaseController"],function(e){return e.extend("asc.admin.controller.app.AddApp",{onInit:function(){this.oRouter=this.getOwnerComponent().getRouter();this.getView().setModel(new sap.ui.model.json.JSONModel("model/app.json"),"app")},onCancelPress:function(){this.oRouter.navTo("applist")},onSavePress:function(e){this.api.postNewApp(this.getView().getModel("app").getData()).done(this.onSaveAppDone.bind(this)).fail(this.onSaveAppFailed.bind(this))},onSaveAppDone:function(e){this.onToast("Success!");this.addRecordToModelAndRefresh("apps",e.data);this.oRouter.navTo("viewapp",{app:0})},onSaveAppFailed:function(e){this.onToast("Error: "+e)}})});