sap.ui.define(["../BaseController"],function(e){var t;return e.extend("asc.admin.controller.app_keywords.AddAppKeyword",{onInit:function(){this.oRouter=this.getOwnerComponent().getRouter();t=new sap.ui.model.json.JSONModel("model/app_keyword.json");this.getView().setModel(t,"app_keyword");this.oRouter.getRoute("addappkeyword").attachPatternMatched(this._onKeywordMatched,this)},_onKeywordMatched:function(e){this._app=e.getParameter("arguments").app||this._app||"0";this._appDetail=this.getView().getModel("apps").oData[this._app]},onCancelPress:function(){this.oRouter.navTo("editapp",{app:this._app})},onSavePress:function(e){this.getView().getModel("app_keyword").getData().keyword=this.getView().byId("idSelectKeyword").getSelectedKey();this.api.postNewAppKeyword(this._appDetail.app_id,this.getView().getModel("app_keyword").getData()).done(this.onSaveKeywordDone.bind(this)).fail(this.onHTTPFail.bind(this))},onSaveKeywordDone:function(e){this.onToast("Success!");var t=this.getView().oPropagatedProperties.oModels.app_keywords;t.getData().push(e.data);t.setData(t.getData());this.oRouter.navTo("editapp",{app:this._app})}})},true);