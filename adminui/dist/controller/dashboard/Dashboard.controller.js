sap.ui.define(["../BaseController"],function(o){return o.extend("asc.admin.controller.dashboard.Dashboard",{onInit:function(){this.oRouter=this.getOwnerComponent().getRouter();this._bDescendingSort=false;this.api.getAllStats().done(this.onGetAllStatsDone.bind(this))},onOpenAppURL:function(o){var n=o.getSource().getCustomData()[0].getValue("app_id");var t=this.getOwnerComponent().getModel("apps").getData();var e=t.findIndex(o=>o.app_id===parseInt(n));this.oRouter.navTo("viewapp",{app:e})},onDownloadAppOwners:function(o){var n=this;this.api.getDownloadContacts("AppOwner").done(function(o){n.jsonToCSV(o,"app_owners.csv")})},onDownloadAppDevelopers:function(o){var n=this;this.api.getDownloadContacts("Developer").done(function(o){n.jsonToCSV(o,"app_developers.csv")})},onDownloadAppContacts:function(o){var n=this;this.api.getDownloadAppContacts().done(function(o){n.jsonToCSV(o,"app_contacts.csv")})},onGetAllStatsDone:function(o){var n=new sap.ui.model.json.JSONModel(o);this.getOwnerComponent().setModel(n,"dashboard_stats")}})},true);