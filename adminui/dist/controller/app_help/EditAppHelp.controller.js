sap.ui.define(["../BaseController"],function(t){var e;return t.extend("asc.admin.controller.app_help.EditAppHelp",{onInit:function(){var t=this;this.oRouter=this.getOwnerComponent().getRouter();this.oRouter.getRoute("editapphelp").attachPatternMatched(this._onHelpMatched,this);sap.ui.require(["sap/ui/richtexteditor/RichTextEditor","sap/ui/richtexteditor/EditorType"],function(i,p){e=new i("idEditAppHelpRichDescription",{editorType:p.TinyMCE4,width:"90%",height:"300px",customToolbar:true,showGroupFont:false,showGroupLink:true,showGroupInsert:false,value:"",ready:function(){this.setValue(t._app_help_detail.description);this.addButtonGroup("styleselect").addButtonGroup("table");this.addStyleClass("formattedTextPadding")}});t.getView().byId("idVerticalLayout").addContent(e)})},_onHelpMatched:function(t){this._app_help=t.getParameter("arguments").app_help||this._app_help||"0";this._app=t.getParameter("arguments").app||this._app||"0";this.getView().bindElement({path:"/"+this._app_help,model:"app_help"});this._app_help_detail=this.getView().getModel("app_help").oData[this._app_help];if(e!==undefined){e.setValue(this._app_help_detail.description)}},onCancelPress:function(){this.setLayout("TwoColumnsMidExpanded");this.oRouter.navTo("editapp",{app:this._app})},onSavePress:function(t){this._app_help_detail.description=e.getValue();this.api.putAppHelp(this._app_help_detail.app_id,this._app_help_detail.help_id,this._app_help_detail).done(this.onEditHelpDone.bind(this)).fail(this.onHTTPFail.bind(this))},onEditHelpDone:function(t){this.onToast("Success!");this.oRouter.navTo("editapp",{app:this._app})}})},true);