sap.ui.define(["../BaseController"],function(t){var e;return t.extend("asc.admin.controller.app_help.AddAppHelp",{onInit:function(){var t=this;this.oRouter=this.getOwnerComponent().getRouter();e=new sap.ui.model.json.JSONModel("model/app_help.json");this.getView().setModel(e,"app_help");this.oRouter.getRoute("addapphelp").attachPatternMatched(this._onHelpMatched,this);sap.ui.require(["sap/ui/richtexteditor/RichTextEditor","sap/ui/richtexteditor/EditorType"],function(e,a){var i=new e("idRichNewHelpDescription",{editorType:a.TinyMCE4,width:"90%",height:"300px",customToolbar:true,showGroupFont:false,showGroupLink:true,showGroupInsert:false,value:"{app_help>/description}",ready:function(){this.addButtonGroup("styleselect").addButtonGroup("table");this.addStyleClass("formattedTextPadding")}});t.getView().byId("idVerticalLayout").addContent(i)})},_onHelpMatched:function(t){this._app=t.getParameter("arguments").app||this._app||"0";this._appDetail=this.getView().getModel("apps").oData[this._app]},onCancelPress:function(){this.oRouter.navTo("editapp",{app:this._app})},onSavePress:function(t){this.api.postNewAppHelp(this._appDetail.app_id,e.getData()).done(this.onSaveHelpDone.bind(this)).fail(this.onHTTPFail.bind(this))},onSaveHelpDone:function(t){this.onToast("Success!");var e=this.getView().oPropagatedProperties.oModels.app_help;e.getData().push(t.data);e.setData(e.getData());this.oRouter.navTo("editapp",{app:this._app})}})},true);