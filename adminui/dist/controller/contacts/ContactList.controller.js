sap.ui.define(["../BaseController","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(t,e,o){return t.extend("asc.admin.controller.contacts.ContactList",{onInit:function(){this.oRouter=this.getOwnerComponent().getRouter()},onClosePress:function(){this.oRouter.navTo("applist")},onContactItemPress:function(t){var e=t.getSource().getBindingContext("contacts").getPath();var o=e.split("/").slice(-1).pop();this.oRouter.navTo("editcontact",{contact:o})},onAddContactPress:function(t){this.oRouter.navTo("addcontact")},onSearchContacts:function(t){var n=this.getView().byId("idTableContacts");var a=n.getBinding("items");var i=[];if(t.getParameter("clearButtonPressed")){this.getView().byId("idTableContacts").getBinding("items").filter([])}else{var s=t.getParameter("query");if(s){i.push(new e("first_name",o.Contains,s));i.push(new e("last_name",o.Contains,s))}a.filter(new e({filters:i,and:false}))}},onRemoveContactPress:function(t){var e=this.getView().byId("idTableContacts");var o=e.getSelectedContexts();var n=this.getView().oPropagatedProperties.oModels.contacts.getData();for(var a=o.length-1;a>=0;a--){var i=o[a].getObject();var s=o[a].getPath().replace("/","");n.splice(s,1);this.getView().oPropagatedProperties.oModels.contacts.setData(n);this.api.deleteContact(i.contact_id).done(this.onRemoveContactDone.bind(this)).fail(this.onHTTPFail.bind(this))}},onRemoveContactDone:function(t){this.onToast("Success!")}})},true);